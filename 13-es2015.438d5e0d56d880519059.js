(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{L6id:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class u{}var i=e("pMnS"),r=e("oBZk"),o=e("ZZ/e"),c=e("SVse");class s{constructor(){this.onIngredientSelected=new t.m}onIngredientClick(n){this.onIngredientSelected.emit(n)}}var a=t.ob({encapsulation:0,styles:[[".recipeButton[_ngcontent-%COMP%]{right:5px;margin-top:-15px}"]],data:{}});function p(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,2,"ion-button",[["class",""],["color","primary"],["size","small"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onIngredientClick(n.context.$implicit)&&t),t}),r.u,r.b)),t.pb(1,49152,null,0,o.h,[t.h,t.k,t.x],{color:[0,"color"],size:[1,"size"]},null),(n()(),t.Fb(2,0,[" ",""]))],(function(n,l){n(l,1,0,"primary","small")}),(function(n,l){n(l,2,0,l.context.$implicit)}))}function b(n){return t.Gb(2,[(n()(),t.qb(0,0,null,null,12,"ion-card",[],null,null,null,r.y,r.d)),t.pb(1,49152,null,0,o.j,[t.h,t.k,t.x],null,null),(n()(),t.qb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t.qb(3,0,null,0,9,"ion-card-header",[],null,null,null,r.w,r.e)),t.pb(4,49152,null,0,o.l,[t.h,t.k,t.x],null,null),(n()(),t.qb(5,0,null,0,4,"div",[["class","recipeButton"]],null,null,null,null,null)),(n()(),t.qb(6,0,null,null,1,"ion-icon",[["name","funnel"]],null,null,null,r.E,r.l)),t.pb(7,49152,null,0,o.z,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.fb(16777216,null,null,1,null,p)),t.pb(9,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.qb(10,0,null,0,2,"ion-card-title",[],null,null,null,r.x,r.f)),t.pb(11,49152,null,0,o.n,[t.h,t.k,t.x],null,null),(n()(),t.Fb(12,0,["",""]))],(function(n,l){var e=l.component;n(l,7,0,"funnel"),n(l,9,0,e.ingredients)}),(function(n,l){var e=l.component;n(l,2,0,null==e.recipeItem?null:e.recipeItem.thumbnail),n(l,12,0,null!=e.recipeItem&&e.recipeItem.title?null==e.recipeItem?null:e.recipeItem.title:"NO TITLE")}))}var h=e("s7LF"),g=e("lJxs"),d=e("JIr8"),m=e("IheW");const f=n=>{let l=new m.g;return n&&Object.keys(n).forEach(e=>{l=l.set(e,n[e])}),l},I={production:!0,API_URL:"http://www.recipepuppy.com/api/",CORS_HELPER:"https://cors-anywhere.herokuapp.com/"};let v=(()=>{class n{constructor(){}getEnv(){return I}}return n.ngInjectableDef=t.Jb({factory:function(){return new n},token:n,providedIn:"root"}),n})();const x={TRACE:0,INFO:1,WARN:2,ERROR:3};let k=(()=>{class n{constructor(){this.level=x.INFO}setLevel(n){this.level=n}log(n,...l){l.reverse(),l.push(`[${n}] [] :: `),l.reverse(),console.log.apply(console,l)}trace(...n){this.log("TRACE",n)}info(...n){this.log("INFO",n)}warn(...n){this.log("WARN",n)}error(...n){this.log("ERROR",n)}}return n.ngInjectableDef=t.Jb({factory:function(){return new n},token:n,providedIn:"root"}),n})(),R=(()=>{class n{constructor(n,l,e){this.config=n,this.http=l,this.logger=e,this.API_URL=this.config.getEnv().API_URL,this.CORS_HELPER=this.config.getEnv().CORS_HELPER}getOrSearchRecipes(n){const l=f(n);return this.http.get(this.CORS_HELPER+this.API_URL,{params:l}).pipe(Object(g.a)(n=>n.results),Object(d.a)((n,l)=>(this.logger.error("Error searching Recipes",n),[])))}}return n.ngInjectableDef=t.Jb({factory:function(){return new n(t.Kb(v),t.Kb(m.c),t.Kb(k))},token:n,providedIn:"root"}),n})();class q{constructor(n){this.service=n,this.searching=!1,this.items=[],this.params={},this.page=1,this.ingredients=[]}ngOnInit(){this.listRecipes()}doInfinite(n){this.params.page=this.page+=1,this.listRecipes(this.params,!0),n.target.complete()}listRecipes(n,l){this.service.getOrSearchRecipes(n).pipe(Object(g.a)(n=>(l?this.items.push(...n):this.items=n,this.items))).subscribe()}search(n,l){l?this.params.i=this.ingredients.toString():n.target.value?(this.searching=!0,this.params.q=n.target.value):(this.searching=!1,this.items=[],this.ingredients=[],this.params={}),this.listRecipes(this.params)}doRefresh(n){this.listRecipes(),n.target.complete()}ingredientSelected(n){if(this.ingredients.includes(n)){const l=this.ingredients.indexOf(n);this.ingredients.splice(l,1)}else this.ingredients.push(n.trim());this.params.page=1,this.search(n,!0)}}var O=t.ob({encapsulation:0,styles:[[""]],data:{}});function S(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,8,"ion-chip",[["scrollX","true"]],null,null,null,r.z,r.g)),t.pb(1,49152,null,0,o.p,[t.h,t.k,t.x],null,null),(n()(),t.qb(2,0,null,0,1,"ion-icon",[["color","primary"],["name","funnel"]],null,null,null,r.E,r.l)),t.pb(3,49152,null,0,o.z,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(n()(),t.qb(4,0,null,0,2,"ion-label",[],null,null,null,r.H,r.o)),t.pb(5,49152,null,0,o.K,[t.h,t.k,t.x],null,null),(n()(),t.Fb(6,0,["",""])),(n()(),t.qb(7,0,null,0,1,"ion-icon",[["name","close"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ingredientSelected(n.context.$implicit)&&t),t}),r.E,r.l)),t.pb(8,49152,null,0,o.z,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"primary","funnel"),n(l,8,0,"close")}),(function(n,l){n(l,6,0,l.context.$implicit)}))}function E(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,1,"h1",[["class","text-center"]],null,null,null,null,null)),(n()(),t.Fb(-1,null,["Recipes"]))],null,null)}function w(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,3,"ion-col",[["size-xl","2"],["size-xs","12"]],null,null,null,r.A,r.h)),t.pb(1,49152,null,0,o.q,[t.h,t.k,t.x],null,null),(n()(),t.qb(2,0,null,0,1,"app-recipe",[],null,[[null,"onIngredientSelected"]],(function(n,l,e){var t=!0;return"onIngredientSelected"===l&&(t=!1!==n.component.ingredientSelected(e)&&t),t}),b,a)),t.pb(3,49152,null,0,s,[],{recipeItem:[0,"recipeItem"],ingredients:[1,"ingredients"]},{onIngredientSelected:"onIngredientSelected"})],(function(n,l){var e=l.context.$implicit,t=l.context.$implicit.ingredients.split(",");n(l,3,0,e,t)}),null)}function z(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,13,"ion-header",[],null,null,null,r.D,r.k)),t.pb(1,49152,null,0,o.y,[t.h,t.k,t.x],null,null),(n()(),t.qb(2,0,null,0,11,"ion-toolbar",[],null,null,null,r.L,r.s)),t.pb(3,49152,null,0,o.zb,[t.h,t.k,t.x],null,null),(n()(),t.qb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,r.v,r.c)),t.pb(5,49152,null,0,o.i,[t.h,t.k,t.x],null,null),(n()(),t.qb(6,0,null,0,1,"ion-menu-button",[],null,null,null,r.I,r.p)),t.pb(7,49152,null,0,o.O,[t.h,t.k,t.x],null,null),(n()(),t.qb(8,0,null,0,3,"ion-searchbar",[["clearIcon",""],["debounce","500"]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==t.Bb(n,11)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Bb(n,11)._handleInputEvent(e.target)&&u),"ionChange"===l&&(u=!1!==i.search(e,!1)&&u),u}),r.K,r.r)),t.Cb(5120,null,h.b,(function(n){return[n]}),[o.Hb]),t.pb(10,49152,null,0,o.hb,[t.h,t.k,t.x],{clearIcon:[0,"clearIcon"],debounce:[1,"debounce"]},null),t.pb(11,16384,null,0,o.Hb,[t.k],null,null),(n()(),t.fb(16777216,null,0,1,null,S)),t.pb(13,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.qb(14,0,null,null,13,"ion-content",[],null,null,null,r.B,r.i)),t.pb(15,49152,null,0,o.r,[t.h,t.k,t.x],null,null),(n()(),t.fb(16777216,null,0,1,null,E)),t.pb(17,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null),(n()(),t.qb(18,0,null,0,5,"ion-grid",[],null,null,null,r.C,r.j)),t.pb(19,49152,null,0,o.x,[t.h,t.k,t.x],null,null),(n()(),t.qb(20,0,null,0,3,"ion-row",[],null,null,null,r.J,r.q)),t.pb(21,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.fb(16777216,null,0,1,null,w)),t.pb(23,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.qb(24,0,null,0,3,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],(function(n,l,e){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.doInfinite(e)&&t),t}),r.G,r.m)),t.pb(25,49152,null,0,o.B,[t.h,t.k,t.x],null,null),(n()(),t.qb(26,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,r.F,r.n)),t.pb(27,49152,null,0,o.C,[t.h,t.k,t.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(n,l){var e=l.component;n(l,10,0,"","500"),n(l,13,0,e.ingredients),n(l,17,0,!e.searching),n(l,23,0,e.items),n(l,27,0,"bubbles","Loading more data...")}),null)}function _(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,1,"app-home",[],null,null,null,z,O)),t.pb(1,114688,null,0,q,[R],null,null)],(function(n,l){n(l,1,0)}),null)}var L=t.mb("app-home",q,_,{},{},[]),F=e("iInd");e.d(l,"HomePageModuleNgFactory",(function(){return C}));var C=t.nb(u,[],(function(n){return t.yb([t.zb(512,t.j,t.Y,[[8,[i.a,L]],[3,t.j],t.v]),t.zb(4608,c.k,c.j,[t.s,[2,c.q]]),t.zb(4608,h.d,h.d,[]),t.zb(4608,o.a,o.a,[t.x,t.g]),t.zb(4608,o.Db,o.Db,[o.a,t.j,t.p]),t.zb(4608,o.Gb,o.Gb,[o.a,t.j,t.p]),t.zb(1073742336,c.b,c.b,[]),t.zb(1073742336,h.c,h.c,[]),t.zb(1073742336,h.a,h.a,[]),t.zb(1073742336,o.Bb,o.Bb,[]),t.zb(1073742336,F.n,F.n,[[2,F.s],[2,F.m]]),t.zb(1073742336,u,u,[]),t.zb(1024,F.k,(function(){return[[{path:"",component:q}]]}),[])])}))},s7LF:function(n,l,e){"use strict";var t=e("8Y7J");e("cUpR"),e("HDdC"),e("DH7j"),e("lJxs"),e("XoHu"),e("Cfvw"),e.d(l,"c",(function(){return o})),e.d(l,"d",(function(){return i})),e.d(l,"b",(function(){return u})),e.d(l,"a",(function(){return c}));const u=new t.o("NgValueAccessor");let i=(()=>(class{constructor(){this._accessors=[]}add(n,l){this._accessors.push([n,l])}remove(n){for(let l=this._accessors.length-1;l>=0;--l)if(this._accessors[l][1]===n)return void this._accessors.splice(l,1)}select(n){this._accessors.forEach(l=>{this._isSameGroup(l,n)&&l[1]!==n&&l[1].fireUncheck(n.value)})}_isSameGroup(n,l){return!!n[0].control&&n[0]._parent===l._control._parent&&n[1].name===l.name}}))();const r=new t.o("NgFormSelectorWarning");let o=(()=>(class{}))(),c=(()=>{class n{static withConfig(l){return{ngModule:n,providers:[{provide:r,useValue:l.warnOnDeprecatedNgFormSelector}]}}}return n})()}}]);